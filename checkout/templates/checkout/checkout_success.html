{% extends "base.html" %}
{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'checkout/css/checkout.css' %}">
{% endblock %}
{% block content %}
<div class="page-container">
   <div class="row">
      <div class="col header-container">
         <h2 class="logo-font mb-4">THAN YOU!</h2>
      </div>
   </div>
   <div class="checkout-sucess-extra">
      <p class="text-black">YOUR PURCHASE WAS SUCCESSFUL AND ORDER INFORMATION IS BELOW. A CONFIRMATION EMAIL WILL BE SENT TO <strong>{{ order.email }}</strong>.</p>
   </div>
   <div class="content-seperator"></div>
   <div class="checkout-success-container">
      <div class="col-12 col-lg-7">
         <div class="order-confirmation-wrapper p-2 border">
            <div class="row">
               <div class="col">
                  <small class="text-muted">ORDER INFO:</small>
               </div>
            </div>
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">ORDER NUMBER:</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="checkout-sucess-text mb-0 font-weight-bold">{{ order.order_number }}</p>
               </div>
            </div>
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">ORDER DATE:</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="checkout-sucess-text mb-0">{{ order.date }}</p>
               </div>
            </div>
            <div class="row">
               <div class="col">
                  <small class="text-muted">ORDER DETAILS:</small>
               </div>
            </div>
            {% for item in order.lineitems.all %}
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="checkout-sucess-text"><strong>{{ item.product.brand.friendly_name }}</strong><br>{{ item.product.name }}</p>
               </div>
               <br>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="checkout-sucess-text small mb-0 font-weight-bold">X{{ item.quantity }} £{{ item.product.price }}</p>
               </div>
            </div>
            {% endfor %}
            <div class="row">
               <div class="col">
                  <small class="text-muted">DELIVERING TO:</small>
               </div>
            </div>
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">FULL NAME:</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="checkout-sucess-text mb-0">{{ order.full_name }}</p>
               </div>
            </div>
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">ADDRESS 1:</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="checkout-sucess-text mb-0">{{ order.street_address1 }}</p>
               </div>
            </div>
            {% if order.street_address2 %}
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">ADDRESS 2:</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="checkout-sucess-text mb-0">{{ order.street_address1 }}</p>
               </div>
            </div>
            {% endif %}
            {% if order.county %}
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">COUNTY:</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="checkout-sucess-text mb-0">{{ order.county }}</p>
               </div>
            </div>
            {% endif %}
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">TOWN OR CITY:</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="checkout-sucess-text mb-0">{{ order.town_or_city }}</p>
               </div>
            </div>
            {% if order.postcode %}
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">POSTAL CODE:</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="checkout-sucess-text mb-0">{{ order.postcode }}</p>
               </div>
            </div>
            {% endif %}
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">COUNTRY:</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="checkout-sucess-text mb-0">{{ order.country }}</p>
               </div>
            </div>
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">PHONE NUMBER:</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="checkout-sucess-text mb-0">{{ order.phone_number }}</p>
               </div>
            </div>
            <br>
            <div class="row">
               <div class="col">
                  <small class="text-muted">BILLING INFO:</small>
               </div>
            </div>
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">ORDER TOTAL:</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="checkout-sucess-text mb-0">£{{ order.order_total }}</p>
               </div>
            </div>
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">DELIVERY:</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="checkout-sucess-text mb-0">£{{ order.delivery_cost }}</p>
               </div>
            </div>
            <div class="row">
               <div class="col-12 col-md-4">
                  <p class="mb-0 text-black font-weight-bold">GRAND TOTAL:</p>
               </div>
               <div class="col-12 col-md-8 text-md-right">
                  <p class="checkout-sucess-text mb-0">£{{ order.grand_total }}</p>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
{% endblock %}